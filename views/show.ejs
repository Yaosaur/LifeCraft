<% layout('layouts/boilerplate') -%>
<link rel="stylesheet" href="/stylesheets/show.css" />
<div id="product">
  <div id="img-review">
    <div>
      <img src="<%=craft.image%>" />
    </div>
    <div id="reviews">
      Reviews
      <div>
        <div>Title of Review</div>
        <div>Review Description</div>
        <div>Username on Date</div>
      </div>
    </div>
  </div>
  <div id="details">
    <div id="productTitle">
      <%=craft.title %> <% if (currentUser && currentUser.seller === true){ %>
      <form action="/api/v1/crafts/<%=craft._id%>/edit" method="GET">
        <button>Edit Craft</button>
      </form>
      <form
        action="/api/v1/crafts/<%=craft._id%>/?_method=DELETE"
        method="POST"
      >
        <button>Delist Craft</button>
      </form>
      <% } %>
    </div>
    <div class="price">$ <%=craft.price.toFixed(2)%></div>
    <% if (craft.stock > 0) {%>
    <div id="qtySelect">
      <label for="qty-select">Quantity</label>
      <br />
      <select name="qty-select" id="qty-select">
        <% for (let i = 1; i <= craft.stock ; i ++) {%>
        <option value="<%= i %> "><%= i %></option>
        <% } %>
      </select>
    </div>
    <div id="shoppingButtons">
      <form action="/api/v1/crafts/<%=craft._id%>/edit" method="GET">
        <button id="buyButton">Buy Now | <%=craft.stock%> in stock</button>
      </form>
      <form
        action="/api/v1/crafts/<%=craft._id%>/?_method=DELETE"
        method="POST"
      >
        <button id="addCartButton">Add to Cart</button>
      </form>
    </div>
    <% } else {%>
    <div id="OOS">Out Of Stock!</div>
    <% } %>
    <div id="shipping">
      <div>Shipping Fee</div>
      <div>Shipping Arrival</div>
    </div>
    <div id="description">
      <div>Description</div>
      <%=craft.description%>
    </div>
  </div>
</div>
